### 行首如果存在注释符号 "#" 则说明该项 "未启用"
### 文档_ https://github.com/hooke007/MPV_lazy/blob/main/portable_config/mpv.conf
### 注意：当前预设下，选项 --volume --glsl-shaders 的关联属性已被全局追踪记录，移除缓存文件 saved-props.json 才能使其的更改生效

#load-scripts = no

 ########
 # 基础 #
 ########

 input-conf = "~~/input_uosc.conf"
 include = "~~/profiles.conf"
 include = "~~/script-opts.conf"
 use-filedir-conf = yes
#log-file = "~~desktop/mpv-lazy.log"

 ########
 # 基础 #
 ########

 vo = gpu-next
 gpu-api = d3d11
#gpu-context = winvk
#d3d11-exclusive-fs = yes
#d3d11-flip = no

 hwdec = auto-copy
 hwdec-codecs = h264,hevc,vp8,vp9,av1,ffv1

#d3d11-adapter = "NVIDIA GeForce RTX 2070 Super"
#vulkan-device = "NVIDIA GeForce RTX 2070 Super"


 ########
 # 功能 #
 ########

 idle = yes
 input-builtin-bindings = no
 input-default-bindings = no
 reset-on-next-file = audio-delay,mute,pause,speed,sub-delay,video-aspect-override,video-pan-x,video-pan-y,video-rotate,video-zoom,volume

 resume-playback = no
 save-position-on-quit = yes
 watch-later-dir = "~~/_cache"
 watch-later-options = start,vid,aid,sid

 write-filename-in-watch-later-config = yes
 ignore-path-in-watch-later-config = yes

 keep-open = yes
 keep-open-pause = no

 audio-file-auto = exact
 sub-auto = exact
 sub-file-paths = sub;subtitles;字幕

 screenshot-template = "~~desktop/vlcsnap-%f-%P"
 screenshot-format = png
 screenshot-png-compression = 5
 screenshot-tag-colorspace = yes
 screenshot-high-bit-depth = yes

 autofit-larger = 90%x90%
 autofit-smaller = 30%x30%
 keepaspect-window = no
 hidpi-window-scale = no

 image-display-duration = inf

 cursor-autohide-fs-only = yes
 cursor-autohide = 1000

 hr-seek-framedrop = no
 save-position-on-quit = yes

 volume-max = 100
 volume = 100
 audio-pitch-correction = yes

 audio-channels = stereo
 audio-normalize-downmix = yes
 audio-display = no

 slang = chs,sc,zh,chi,zh-cn,zh-tw,zh-hk,zh-sg
 alang = chs,sc,zh,chi,zh-cn,zh-tw,zh-hk,zh-sg,jpn,jp,en,eng


 ########
 # 视频 #
 ########

 profile = gpu-hq
 fbo-format = rgba16hf
 opengl-pbo = yes

 deband = no
 deband-iterations = 1
 deband-threshold = 48
 deband-range = 16
 deband-grain = 24

 dither-depth = auto
 dither = fruit
 temporal-dither = yes
 temporal-dither-period = 1

 video-sync = display-resample
 video-sync-max-video-change = 5
 interpolation = yes
 tscale = oversample

 scale = ewa_lanczos
 scale-radius = 3
 dscale = mitchell
 cscale = ewa_lanczos

 sigmoid-upscaling = yes
 correct-downscaling = yes
 linear-downscaling = yes

 hdr-compute-peak = yes
 hdr-peak-decay-rate = 995.0
 hdr-scene-threshold-low = 1.0
 hdr-scene-threshold-high = 3.0

 tone-mapping = bt.2390
 tone-mapping-param = 0.0
 gamut-mapping-mode = clip
 hdr-peak-percentile = 99.99


 ####################
 # 脚本 滤镜 着色器 #
 ####################

 load-stats-overlay = yes
 osc = no
#ytdl-raw-options-append = cookies-from-browser=edge
 ytdl-raw-options-append = sub-langs=-danmaku

#load-scripts = no

 ########
 # 字幕 #
 ########

 sub-ass-vsfilter-color-compat = basic
 sub-fix-timing = no
 sub-auto = exact
 sid = 1
 secondary-sid = no
 sub-file-paths = sub;subtitles;字幕

 demuxer-mkv-subtitle-preroll = yes
 demuxer-mkv-subtitle-preroll-secs = 2

 sub-ass-justify = yes
 sub-ass-override = no
 sub-ass-scale-with-window = no
 sub-ass-style-overrides = Kerning=yes

 sub-font = "Source Han Sans CN Regular"
 sub-font-size = 44
 sub-blur = 0.0
 sub-bold = no
 sub-italic = no
 sub-border-color = 0.0/0.0/0.0/1.0
 sub-border-size = 2.4
 sub-color = 1.0/1.0/1.0/1.0
 sub-margin-x = 100
 sub-margin-y = 60
 sub-shadow-color = 0.0/0.0/0.0/0.4
 sub-shadow-offset = 0.8
 sub-spacing = 0.0

 sub-codepage = utf8
 sub-filter-sdh = no
 sub-filter-sdh-harder = no
 sub-filter-regex-append = "^\\s*[\\s\\S]*?[.。]\\s*$"
 sub-filter-regex-append = "^\\s*[\\s\\S]*?[!！]\\s*$"
 sub-filter-regex-append = "^\\s*[\\s\\S]*?[?？]\\s*$"
 sub-filter-regex-append = "^\\s*[\\s\\S]*?[…]\\s*$"
 sub-filter-regex-append = "^\\s*[\\s\\S]*?[―]\\s*$"
 sub-filter-regex-append = "^\\s*[\\s\\S]*?[♪]\\s*$"

 ########
 # 音频 #
 ########

 audio-device = auto
 audio-exclusive = no
 audio-fallback-to-null = yes
 audio-stream-silence = yes
 audio-wait-open = 0.0
 audio-pitch-correction = yes

 volume = 100
 volume-max = 100
 audio-channels = stereo
 audio-normalize-downmix = yes
 audio-display = no

 alang = chs,sc,zh,chi,zh-cn,zh-tw,zh-hk,zh-sg,jpn,jp,en,eng


 ########
 # 高级 #
 ########

 log-file = "~~desktop/mpv.log"
 msg-level = all=info

 gpu-shader-cache-dir = "~~/_cache"
 icc-cache-dir = "~~/_cache"

 cache = yes
 cache-on-disk = yes
 cache-pause = yes
 cache-pause-initial = no
 cache-pause-wait = 1

 demuxer-max-bytes = 200MiB
 demuxer-max-back-bytes = 100MiB
 demuxer-readahead-secs = 300
 demuxer-seekable-cache = yes

 network-timeout = 60
 rtsp-transport = tcp
 hls-bitrate = max
 ytdl-format = "bestvideo[height<=?1080]+bestaudio/best[height<=?1080]/best"

 user-agent = "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"
