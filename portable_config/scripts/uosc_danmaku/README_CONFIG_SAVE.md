# 弹幕配置自动保存功能使用说明

## 功能描述
这个功能扩展了 uosc_danmaku 脚本，允许用户在 mpv 播放器的 UI 中修改弹幕设置后，将这些修改自动保存到配置文件中。

## 使用方法

### 1. 通过UI菜单保存
- 按 `Ctrl+d` 打开弹幕搜索菜单
- 或者点击 uosc 界面中的弹幕样式按钮
- 在弹幕样式菜单中，修改任何设置（如显示范围、字体大小、透明度等）
- 修改后的设置会自动保存到配置文件中
- 菜单底部有"保存当前配置到文件"选项，可以手动保存所有当前设置

### 2. 通过快捷键保存
- 按 `Ctrl+Shift+d` 快速保存当前所有弹幕配置到文件

### 3. 支持的配置项
以下配置项的修改会自动保存：
- `displayarea` - 弹幕显示范围 (0.0-1.0)
- `fontsize` - 字体大小
- `bold` - 粗体开关
- `outline` - 描边粗细
- `shadow` - 阴影
- `density` - 弹幕密度
- `scrolltime` - 滚动速度
- `transparency` - 透明度
- `blockmode` - 屏蔽模式
- `blacklist_path` - 屏蔽词文件路径

## 配置文件位置
配置保存在：`portable_config/script-opts/uosc_danmaku.conf`

## 注意事项
1. 修改会立即保存到配置文件，无需重启 mpv
2. 下次启动 mpv 时，保存的配置会自动加载
3. 如果保存失败，会在 mpv 的消息显示区域显示错误信息
4. 建议在修改重要配置前备份原配置文件

## 故障排除
- 如果保存失败，检查配置文件是否有写权限
- 确保 `portable_config/script-opts/` 目录存在
- 查看 mpv 日志获取详细错误信息
